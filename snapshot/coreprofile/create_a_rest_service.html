<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M19 from src/site/markdown/coreprofile/create_a_rest_service.md at 2024-09-28
 | Rendered using Apache Maven Fluido Skin 2.0.0-M10
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M19" />
    <title>Create a REST service – Piranha</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-2.0.0-M10.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-2.0.0-M10.min.js"></script>
    <style>.github-fork-ribbon:before { background-color: black; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon left-bottom fixed" href="https://github.com/piranhacloud/piranha" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="https://piranha.cloud/" class="externalLink">Piranha</a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1>A cloud native extensible runtime</h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="projectVersion">Version: 24.10.0-SNAPSHOT</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2024-09-28</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="../webprofile/index.html">Web Profile</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="../servlet/index.html">Servlet</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="../server/index.html">Server</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="../micro/index.html">Micro</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="../embedded/index.html">Embedded</a></li>
        <li class="pull-right"><a href="../coreprofile/index.html">Core Profile</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="../index.html">Getting Started</a></li>
   <li class="nav-header">Piranha Core Profile</li>
    <li><a href="../coreprofile/index.html">Overview</a></li>
    <li><a><span class="icon-chevron-down"></span>Guides</a>
     <ul class="nav nav-list">
      <li class="active"><a>Create a REST service</a></li>
      <li><a href="../coreprofile/create_a_json_rest_service.html">Create a JSON REST service</a></li>
      <li><a href="../coreprofile/debugging_a_rest_service_with_netbeans.html">Debugging a REST service with NetBeans</a></li>
      <li><a href="../coreprofile/debugging_a_rest_service_with_vscode.html">Debugging a REST service with VSCode</a></li>
      <li><a href="../coreprofile/testing_with_junit5_and_arquillian.html">Testing with JUnit 5 and Arquillian</a></li>
      <li><a href="../coreprofile/using_project_crac.html">Using Project CRaC</a></li>
     </ul></li>
   <li class="nav-header">Piranha Embedded</li>
    <li><a href="../embedded/index.html">Overview</a></li>
    <li><a><span class="icon-chevron-down"></span>Guides</a>
     <ul class="nav nav-list">
      <li><a href="../embedded/create_a_piranha_embedded_graalvm_application.html">Create a Piranha Embedded GraalVM application</a></li>
      <li><a href="../embedded/create_a_hello_world_web_application.html">Create a Hello World web application</a></li>
      <li><a href="../embedded/create_an_embedded_jlink_application.html">Create an embedded JLink application</a></li>
      <li><a href="../embedded/running_piranha_embedded_with_spring_boot.html">Running Piranha Embedded with Spring Boot</a></li>
     </ul></li>
   <li class="nav-header">Piranha Micro</li>
    <li><a href="../micro/index.html">Overview</a></li>
    <li><a><span class="icon-chevron-down"></span>Guides</a>
     <ul class="nav nav-list">
      <li><a href="../micro/create_a_hello_world_web_application.html">Create a Hello World web application</a></li>
     </ul></li>
   <li class="nav-header">Piranha Server</li>
    <li><a href="../server/index.html">Overview</a></li>
    <li><a><span class="icon-chevron-down"></span>Guides</a>
     <ul class="nav nav-list">
      <li><a href="../server/create_a_hello_world_web_application.html">Create a Hello World web application</a></li>
     </ul></li>
   <li class="nav-header">Piranha Servlet</li>
    <li><a href="../servlet/index.html">Overview</a></li>
    <li><a><span class="icon-chevron-down"></span>Guides</a>
     <ul class="nav nav-list">
      <li><a href="../servlet/create_a_faces_application.html">Create a Faces application</a></li>
      <li><a href="../servlet/create_a_hello_world_web_application.html">Create a Hello World web application</a></li>
      <li><a href="../servlet/create_jakarta_pages_application.html">Create a Jakarta Pages application</a></li>
      <li><a href="../servlet/create_a_websocket_application.html">Create a WebSocket application</a></li>
      <li><a href="../servlet/run_a_web_application_on_crac.html">Run a web application on CRaC</a></li>
     </ul></li>
   <li class="nav-header">Piranha Web Profile</li>
    <li><a href="../webprofile/index.html">Overview</a></li>
    <li><a><span class="icon-chevron-down"></span>Guides</a>
     <ul class="nav nav-list">
      <li><a href="../webprofile/create_a_faces_application.html">Create a Faces application</a></li>
      <li><a href="../webprofile/create_a_hello_world_application.html">Create a Hello World application</a></li>
      <li><a href="../webprofile/create_a_jakarta_rest_service.html">Create a Jakarta REST service</a></li>
      <li><a href="../webprofile/create_a_pages_application.html">Create a Pages application</a></li>
      <li><a href="../webprofile/testing_with_junit5_and_playwright.html">Testing with JUnit 5 and Playwright</a></li>
      <li><a href="../webprofile/testing_with_our_container_image.html">Testing with our container image</a></li>
     </ul></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
    <div id="twitter" style="border:none; margin-top: 10px">
    <a href="https://twitter.com/piranha_cloud" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="false" data-lang="en" data-dnt="true" >Follow piranha_cloud</a>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
              <div class="clear"></div>
<span class="builtBy"></span>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="Create_a_REST_service"></a>
<h1>Create a REST service</h1>
<p>If you are looking to create a REST service with Piranha then consider Piranha Core Profile. It features a runtime ideally suited for REST and micro services.</p>
<p>In 6 steps you will learn how to create the REST service. They are:</p>
<ol style="list-style-type: decimal;">

<li>Create the Maven POM file</li>
<li>Add the application class</li>
<li>Add the endpoint</li>
<li>Add an integration test</li>
<li>Test the application</li>
<li>Deploy the application</li>
</ol><section><a id="Create_the_Maven_POM_file"></a>
<h2>Create the Maven POM file</h2>
<p>Create an empty directory to store your Maven project. Inside of that directory create the <code>pom.xml</code> file with the content as below.</p>

<pre class="prettyprint"><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

&lt;project
    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;cloud.piranha.guides.coreprofile&lt;/groupId&gt;
    &lt;artifactId&gt;rest&lt;/artifactId&gt;
    &lt;version&gt;24.10.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;
    &lt;name&gt;Piranha Core Profile - REST service&lt;/name&gt;
    &lt;properties&gt;
        &lt;jakartaee.version&gt;10.0.0&lt;/jakartaee.version&gt;
        &lt;java.version&gt;17&lt;/java.version&gt;
        &lt;junit.version&gt;5.10.0-M1&lt;/junit.version&gt;
        &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;
        &lt;maven-failsafe-plugin.version&gt;3.0.0&lt;/maven-failsafe-plugin.version&gt;
        &lt;maven-war-plugin.version&gt;3.3.2&lt;/maven-war-plugin.version&gt;
        &lt;piranha.version&gt;23.6.0&lt;/piranha.version&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;
            &lt;artifactId&gt;jakarta.jakartaee-core-api&lt;/artifactId&gt;
            &lt;version&gt;${jakartaee.version}&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;
            &lt;version&gt;${junit.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
            &lt;version&gt;${junit.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;
            &lt;version&gt;${junit.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;build&gt;
        &lt;finalName&gt;rest&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;cloud.piranha.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;piranha-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${piranha.version}&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;pre-integration-test&lt;/id&gt;
                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;start&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                    &lt;execution&gt;
                        &lt;id&gt;post-integration-test&lt;/id&gt;
                        &lt;phase&gt;post-integration-test&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;stop&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;release&gt;${java.version}&lt;/release&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
                &lt;version&gt;${maven-failsafe-plugin.version}&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;integration-test&lt;/goal&gt;
                            &lt;goal&gt;verify&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
                &lt;version&gt;${maven-war-plugin.version}&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</code></pre></section><section><a id="Add_the_application_class"></a>
<h2>Add the application class</h2>
<p>Add the Application class in the <code>src/main/java</code> directory, which allows you to set the application path using the @ApplicationPath annotation.</p>

<pre class="prettyprint"><code class="language-java">package rest;

import jakarta.ws.rs.ApplicationPath;
import jakarta.ws.rs.core.Application;

@ApplicationPath(&quot;&quot;)
public class RestApplication extends Application {
}
</code></pre></section><section><a id="Add_the_endpoint"></a>
<h2>Add the endpoint</h2>
<p>And we are adding a simple &#x2018;Hello World&#x2019; endpoint that is listening on the <code>/helloworld</code> path.</p>

<pre class="prettyprint"><code class="language-java">package rest;

import jakarta.enterprise.context.RequestScoped;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;

@Path(&quot;/helloworld&quot;)
@RequestScoped
public class HelloWorldBean {

    @GET
    public String helloWorld() {
        return &quot;Hello World!&quot;;
    }
}
</code></pre></section><section><a id="Add_an_integration_test"></a>
<h2>Add an integration test</h2>
<p>As we want to make sure the application gets tested before we release an integration test is added which will be executed as part of the build.</p>
<p>We'll add the integration test to the <code>src/test/java</code> directory.</p>

<pre class="prettyprint"><code class="language-java">package rest;

import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.net.http.HttpResponse.BodyHandlers;
import static org.junit.jupiter.api.Assertions.assertTrue;
import org.junit.jupiter.api.Test;

class HelloWorldIT {
 
    @Test
    void testHelloWorld() throws Exception {
        HttpClient client = HttpClient.newHttpClient();
        HttpRequest request = HttpRequest
                .newBuilder(new URI(&quot;http://localhost:8080/rest/helloworld&quot;))
                .build();
        HttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString());
        assertTrue(response.body().contains(&quot;Hello World!&quot;));
    }
}

</code></pre></section><section><a id="Test_the_application"></a>
<h2>Test the application</h2>
<p>The application is setup to use JUnit to do integration testing using the Piranha Maven plugin so when you are building the application it will also execute an integration test validating the endpoint works.</p>
<p>To build and test the application execute the following command:</p>

<pre class="prettyprint"><code class="language-bash">  mvn install
</code></pre></section><section><a id="Deploy_the_application"></a>
<h2>Deploy the application</h2>
<p>To deploy your application you will need 2 pieces.</p>
<ol style="list-style-type: decimal;">

<li>The Piranha Core Profile runtime JAR.</li>
<li>The WAR file you just produced.</li>
</ol>
<p>For the WAR file see the <code>target</code> directory. For the Piranha Core Profile distribution go to Maven Central. And then the following command line will deploy your application:</p>

<pre class="prettyprint"><code class="language-bash">  java -jar piranha-dist-coreprofile.jar --war-file rest.war
</code></pre></section><section><a id="Conclusion"></a>
<h2>Conclusion</h2>
<p>As you can see getting started with Piranha Core Profile does not have to take long.</p></section><section><a id="References"></a>
<h2>References</h2>
<ol style="list-style-type: decimal;">

<li><a href="index.html">Piranha Core Profile</a></li>
<li><a href="../maven-plugin/index.html">Piranha Maven plugin documentation</a></li>
</ol>
<p><a href="index.html">Up</a></p></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p class="pull-right">©      2024
<a href="https://piranha.cloud">Piranha Cloud</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
